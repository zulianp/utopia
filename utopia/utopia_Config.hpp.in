#ifndef UTOPIA_CONFIG_HPP
#define UTOPIA_CONFIG_HPP


// Moonolith style variables.
#define UTOPIA_CXX_COMPILER "@CMAKE_CXX_COMPILER@"
#define UTOPIA_C_COMPILER "@CMAKE_C_COMPILER@"
#define UTOPIA_DEP_INCLUDES "@UTOPIA_DEP_INCLUDES@"
#define UTOPIA_DEP_LIBRARIES "@UTOPIA_DEP_LIBRARIES@"



#cmakedefine UTOPIA_ENABLE_BLAS
#cmakedefine UTOPIA_ENABLE_LAPACK
#cmakedefine UTOPIA_ENABLE_PETSC
#cmakedefine UTOPIA_ENABLE_SLEPC
#cmakedefine UTOPIA_ENABLE_TRILINOS
#cmakedefine UTOPIA_ENABLE_TRILINOS_AMESOS2
#cmakedefine UTOPIA_ENABLE_TRILINOS_BELOS
#cmakedefine UTOPIA_ENABLE_TRILINOS_IFPACK2
#cmakedefine UTOPIA_ENABLE_TRILINOS_MUELU
#cmakedefine UTOPIA_ENABLE_TRILINOS_TPETRAEXT
#cmakedefine UTOPIA_ENABLE_UMFPACK
#cmakedefine UTOPIA_ENABLE_MPI
#cmakedefine UTOPIA_ENABLE_PETSC_CRAY
#cmakedefine UTOPIA_ENABLE_EIGEN_3
#cmakedefine UTOPIA_ENABLE_TRACE
#cmakedefine UTOPIA_ENABLE_TRACE_EXPR
#cmakedefine UTOPIA_ENABLE_NO_ALLOC_REGIONS
#cmakedefine UTOPIA_ENABLE_TINY_EXPR
#cmakedefine UTOPIA_ENABLE_JSON
#cmakedefine UTOPIA_ENABLE_YAML_CPP
#cmakedefine UTOPIA_ENABLE_CPP14
#cmakedefine UTOPIA_ENABLE_CPP17
#cmakedefine UTOPIA_ENABLE_CODE_COVERAGE
#cmakedefine UTOPIA_ENABLE_DEPRECATED_API
#cmakedefine UTOPIA_ENABLE_VC
#cmakedefine UTOPIA_ENABLE_METIS
#cmakedefine UTOPIA_ENABLE_PARMETIS
#cmakedefine UTOPIA_ENABLE_MATRIX_IO
#cmakedefine UTOPIA_ENABLE_ISOLVER
// #cmakedefine UTOPIA_ENABLE_KOKKOS_SIMD

#cmakedefine UTOPIA_PETSC_VERSION_MAJOR
#cmakedefine UTOPIA_PETSC_VERSION_MINOR
#cmakedefine UTOPIA_PETSC_VERSION_SUBMINOR

#ifdef UTOPIA_ENABLE_TRILINOS
#include "Trilinos_version.h"
#if TRILINOS_MAJOR_MINOR_VERSION >= 130100
#cmakedefine01 UTOPIA_REMOVE_TRILINOS_DEPRECATED_CODE
#else
#define UTOPIA_REMOVE_TRILINOS_DEPRECATED_CODE 0
#endif
#endif

#ifdef UTOPIA_ENABLE_TRILINOS
#include <Kokkos_Macros.hpp>
#define UTOPIA_LAMBDA KOKKOS_LAMBDA
#define UTOPIA_INLINE_FUNCTION KOKKOS_INLINE_FUNCTION
// #define UTOPIA_INLINE_FUNCTION_DEFAULTED KOKKOS_INLINE_FUNCTION_DEFAULTED
#define UTOPIA_INLINE_FUNCTION_DEFAULTED KOKKOS_INLINE_FUNCTION
#define UTOPIA_FUNCTION KOKKOS_FUNCTION
#define UTOPIA_NVCC_PRIVATE public:
#else
#define UTOPIA_LAMBDA [=]
#define UTOPIA_INLINE_FUNCTION inline
#define UTOPIA_INLINE_FUNCTION_DEFAULTED inline
#define UTOPIA_FUNCTION
#define UTOPIA_NVCC_PRIVATE
#endif

#ifdef UTOPIA_ENABLE_PETSC_CRAY
#define PETSC_CXX_STATIC_INLINE static inline
#define PETSC_CXX_RESTRICT __restrict__
#endif


#ifndef NDEBUG
#include <assert.h>
#cmakedefine UTOPIA_ENABLE_LOCK_CHECK
#ifdef UTOPIA_ENABLE_LOCK_CHECK
#define utopia_lock_check_assert(expr_) assert(expr_)
#else
#define utopia_lock_check_assert(expr_)
#endif //UTOPIA_ENABLE_LOCK_CHECK
#else
#define utopia_lock_check_assert(expr_)
#endif //NDEBUG


#ifndef UTOPIA_DEPRECATED
    #if defined(UTOPIA_COMPILER_CXX_ATTRIBUTE_DEPRECATED) && UTOPIA_COMPILER_CXX_ATTRIBUTE_DEPRECATED
      #define UTOPIA_DEPRECATED [[deprecated]]
      #define UTOPIA_DEPRECATED_MSG(MSG) [[deprecated(MSG)]]
    #elif UTOPIA_COMPILER_IS_GNU || UTOPIA_COMPILER_IS_Clang
      #define UTOPIA_DEPRECATED __attribute__((__deprecated__))
      #define UTOPIA_DEPRECATED_MSG(MSG) __attribute__((__deprecated__(MSG)))
    #elif UTOPIA_COMPILER_IS_MSVC
      #define UTOPIA_DEPRECATED __declspec(deprecated)
      #define UTOPIA_DEPRECATED_MSG(MSG) __declspec(deprecated(MSG))
    #else
      #define UTOPIA_DEPRECATED
      #define UTOPIA_DEPRECATED_MSG(MSG)
    #endif
#endif

#endif //UTOPIA_CONFIG_HPP
