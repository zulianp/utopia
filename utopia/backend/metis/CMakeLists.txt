find_package(Metis REQUIRED)


set(UTOPIA_WITH_METIS TRUE)
set(UTOPIA_WITH_METIS TRUE PARENT_SCOPE)

list(
    APPEND
    METIS_MODULES
    .
    )

utopia_add_library(${CMAKE_CURRENT_SOURCE_DIR} "${METIS_MODULES}")

target_include_directories(utopia PUBLIC ${METIS_INCLUDES})
target_link_libraries(utopia PUBLIC ${METIS_LIBRARIES})

list(APPEND UTOPIA_THIRDPARTY_INCLUDES ${METIS_INCLUDES})
list(APPEND UTOPIA_THIRDPARTY_LIBRARIES ${METIS_LIBRARIES})

set(UTOPIA_THIRDPARTY_INCLUDES
    ${UTOPIA_THIRDPARTY_INCLUDES}
    PARENT_SCOPE)

set(UTOPIA_THIRDPARTY_LIBRARIES
    ${UTOPIA_THIRDPARTY_LIBRARIES}
    PARENT_SCOPE)
