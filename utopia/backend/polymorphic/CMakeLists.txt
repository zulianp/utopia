scan_directories(${CMAKE_CURRENT_SOURCE_DIR} "." UTOPIA_BUILD_INCLUDES UTOPIA_HEADERS UTOPIA_SOURCES)

set(UTOPIA_BUILD_INCLUDES
    ${UTOPIA_BUILD_INCLUDES}
    PARENT_SCOPE)

set(UTOPIA_HEADERS
    ${UTOPIA_HEADERS}
    PARENT_SCOPE)

set(UTOPIA_SOURCES
    ${UTOPIA_SOURCES}
    PARENT_SCOPE)

if(UTOPIA_ENABLE_EIGEN_3)
    find_package(Eigen3)
    if(EIGEN3_FOUND)
        list(APPEND UTOPIA_BUILD_INCLUDES ${EIGEN3_INCLUDE_DIR})
    endif()
endif()